<!-- Animacion de carga  -->
<div *ngIf="cargando" class="fixed inset-0 z-50 flex flex-col items-center justify-center
         bg-gradient-to-br from-orange-50 to-orange-100
         dark:from-gray-900 dark:to-gray-800">

  <div class="text-center">
    <p class="text-2xl text-orange-700 font-semibold mb-6 dark:text-orange-400">
      Descubriendo Capachica...
    </p>

    <!-- Spinner centrado -->
    <div class="flex justify-center">
      <div class="relative">
        <div class="animate-spin rounded-full h-16 w-16 border-4 border-orange-200 dark:border-neutral-600"></div>
        <div
          class="animate-spin rounded-full h-16 w-16 border-t-4 border-orange-500 absolute top-0 dark:border-neutral-500">
        </div>
      </div>
    </div>

    <!-- Puntos animados -->
    <div class="mt-4 flex justify-center space-x-1">
      <div class="w-3 h-3 bg-orange-400 rounded-full animate-bounce dark:bg-orange-300"></div>
      <div class="w-3 h-3 bg-orange-500  dark:bg-orange-600 rounded-full animate-bounce" style="animation-delay: 0.1s">
      </div>
      <div class="w-3 h-3 bg-orange-600 rounded-full animate-bounce" style="animation-delay: 0.3s"></div>
    </div>
  </div>
</div>



<div *ngIf="!cargando">
  <!-- PARTE 1: CARRUSEL HERO  -->
  <div class="relative">
    <div class="overflow-hidden relative min-h-screen">
      <div class="flex transition-all duration-700 ease-in-out"
        [ngStyle]="{'transform': 'translateX(' + -currentIndex * 100 + '%)'}">
        <!-- Contenido de carrusel bg  -->
        <div *ngFor="let slider of getImagenesmuni(); let i = index" class="flex-none w-full relative min-h-screen">

          <!-- Gradiente mejorado con tonos naranjas -->
          <div
            class="absolute top-0 h-[100vh] w-full z-10 p-5 bg-gradient-to-b from-white/40 to-orange-600/40 dark:from-black/100 dark:to-orange-600/40">
          </div>



          <!-- sombreado bg -->
          <div class="absolute inset-0 opacity-10 z-10"
            style="background-image: radial-gradient(circle at 20% 50%, rgba(240, 232, 232, 0.568) 1px, transparent 1px); background-size: 40px 40px;">
          </div>

          <img [src]="slider.url_completa" [alt]="slider.nombre"
            class="w-full h-screen object-cover transition-transform duration-1000 hover:scale-105"
            style="transform: translateY(80px);" />

          <!-- Contenido de bg txt -->
          <div class="absolute inset-0 flex items-center justify-end px-6 md:px-20 z-20 mr-10">
            <div class="max-w-xl text-right transform transition-all duration-1000"
              [class.animate-slide-in-right]="currentIndex === i">

              <!-- Título de la img bg -->
              <h1 class="text-4xl md:text-6xl font-bold text-white mb-6 leading-tight">
                <span class="bg-gradient-to-r from-white to-orange-100 bg-clip-text text-transparent drop-shadow-2xl">
                  {{ slider.nombre }}
                </span>
              </h1>

              <!-- Descripción -->
              <p class="text-lg md:text-xl text-orange-100 mb-8 leading-relaxed drop-shadow-lg max-w-lg">
                Un paraíso donde la naturaleza, cultura y tradición se fusionan en una experiencia única e inolvidable
              </p>

              <!-- Botones de explorar ahora-->
              <div class="flex flex-col sm:flex-row gap-4 justify-end">
                <a [routerLink]="['/contactos']"
                  class="group relative px-8 py-4 bg-amber-600 hover:from-orange-600 hover:to-orange-400 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300">
                  <span class="relative z-10">Explorar Ahora</span>
                </a>
              </div>

            </div>
          </div>

        </div>
      </div>

      <!-- Botones  -->
      <!-- Botones de prev  -->
      <button (click)="prevSlide()" class="absolute left-6 top-1/2 transform -translate-y-1/2 w-14 h-14 bg-orange-500/80 hover:bg-orange-500 backdrop-blur-sm 
          text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-300 z-30 group">
        <svg class="w-6 h-6 mx-auto group-hover:-translate-x-0.5 transition-transform duration-200" fill="none"
          stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
        </svg>
      </button>
      <!-- Botones de next  -->
      <button (click)="nextSlide()"
        class="absolute right-6 top-1/2 transform -translate-y-1/2 w-14 h-14 bg-orange-500/80 hover:bg-orange-500 backdrop-blur-sm text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-300 z-30 group">
        <svg class="w-6 h-6 mx-auto group-hover:translate-x-0.5 transition-transform duration-200" fill="none"
          stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
        </svg>
      </button>


      <!-- Boton de paginación  -->
      <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 flex space-x-3 z-30">
        <button *ngFor="let slider of getImagenesmuni(); let i = index" (click)="goToSlide(i)"
          class="relative w-12 h-3 rounded-full transition-all duration-300 overflow-hidden"
          [class]="currentIndex === i ? 'bg-orange-400 shadow-lg' : 'bg-white/30 hover:bg-white/50'">
          <div *ngIf="currentIndex === i"
            class="absolute inset-0 bg-gradient-to-r from-orange-300 to-orange-500 animate-pulse">
          </div>
        </button>
      </div>

      <!-- Indicador de paginacion -->
      <div class="absolute bottom-20 left-1/2 transform -translate-x-1/2 text-white/70 animate-bounce z-30">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3" />
        </svg>
      </div>

    </div>
  </div>

  <!-- PARTE 2: SECCIÓN DE INFORMACIÓN de la Municipalidad -->
  <section *ngIf="municipalidad" class="relative px-6 py-20 bg-white dark:bg-gray-900 transition-colors duration-300">
    <!-- Elementos decorativos de fondo (EL CIRCULO) -->
    <div class="absolute top-0 left-0 w-72 h-72 bg-orange-200/20 rounded-full -translate-x-1/2 -translate-y-1/2"></div>
    <!-- Frase -->
    <div class="max-w-7xl mx-auto relative z-10 px-7">
      <div class="relative">
        <!-- Frase de bienvenida -->
        <div class="relative">
          <blockquote
            class="text-xl dark:text-orange-400 lg:text-4xl font-semibold text-orange-500 italic leading-relaxed text-center px-10">
            "{{ municipalidad.frase }}"
          </blockquote>
          <!-- Decoración bajo el título -->
          <div class="flex items-center justify-center mt-4">
            <div class="h-1 w-20 bg-gradient-to-r from-orange-400 to-orange-600 rounded-full"></div>
            <div class="w-3 h-3 bg-orange-500 rounded-full mx-3"></div>
            <div class="h-1 w-12 bg-orange-300 rounded-full"></div>
          </div>
        </div>

      </div>
    </div>
  </section>

  <!-- PARTE 5: EVENTOS -->
  <div class="py-4 px-4 bg-white dark:bg-gray-900 transition-colors duration-300 relative overflow-hidden">
    <div class="max-w-6xl mx-auto relative z-10">

      <!-- Encabezado -->
      <div class="text-center mb-12 px-4">
        <!-- Boton arriba de titulo -->
        <div
          class="inline-flex items-center px-4 py-2 bg-amber-500 text-white text-xs sm:text-sm font-bold rounded-full mb-4 shadow-md">
          EXPERIENCIAS EN CAPACHICA
        </div>
        <!-- titulo -->
        <h2 class="text-3xl sm:text-4xl font-extrabold text-gray-900 dark:text-white leading-snug mb-3">
          PRÓXIMO <span
            class="bg-gradient-to-r from-orange-500 to-amber-500 bg-clip-text text-transparent">EVENTO</span>
        </h2>
        <!-- pequeña des -->
        <p class="text-base sm:text-lg text-gray-600 dark:text-gray-300 max-w-xl mx-auto">
          Descubre las maravillas naturales, culturales y festivas de la península de Capachica.
        </p>
      </div>

      <!-- Evento turístico destacado -->
      <div *ngIf="eventoMasCercano"
        class="bg-white dark:bg-gray-800 rounded-2xl overflow-hidden shadow-xl border border-orange-100 dark:border-orange-800/30  transition-all duration-700 group">

        <div class="grid grid-cols-1 lg:grid-cols-5 gap-0">
          <!-- Imagen del evento IZQUIERDO-->
          <div class="lg:col-span-2 relative">
            <div class="aspect-[4/3] relative">

              <img [src]="getSliderImage(eventoMasCercano)" [alt]="eventoMasCercano.nombre"
                class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-700 rounded-l-2xl lg:rounded-none">

              <div class="absolute inset-0 bg-gradient-to-t from-black/30 via-transparent to-transparent"></div>

              <!-- Badge -->
              <div class="absolute top-4 left-4">
                <div class="px-3 py-1 bg-orange-500 text-white text-xs font-semibold rounded-full shadow-md">
                  EVENTO ESPECIAL
                </div>
              </div>

              <!-- Fecha -->
              <div class="absolute bottom-4 left-4 bg-white/90 backdrop-blur-sm rounded-xl p-2 shadow-md text-center">
                <div class="text-5xl font-black text-orange-600">
                  {{ eventoMasCercano.fecha_inicio | date:'dd' }}
                </div>
                <div class="text-xs font-semibold text-gray-700 uppercase tracking-wide">
                  {{ eventoMasCercano.fecha_inicio | date:'MMM' }}
                </div>
              </div>

            </div>
          </div>
          <!-- DERECHO info-->
          <div class="lg:col-span-3 h-full flex flex-col justify-center items-center text-center space-y-4 p-4">
            <!-- Título principal -->
            <div class="relative z-10 space-y-2">
              <!-- Título principal -->
              <h3 class="text-xl font-bold text-gray-800 dark:text-white leading-tight line-clamp-2">
                {{ eventoMasCercano.nombre }}
              </h3>
            </div>

            <!-- IZQUIERDO Fechas del evento -->
            <div class="relative z-10 w-full max-w-4xl">
              <div class="grid lg:grid-cols-2 gap-6">
                <!-- Fecha de inicio -->
                <div class="bg-white/90 dark:bg-gray-800/90 rounded-2xl py-2 px-5 backdrop-blur-sm">
                  <div class="flex items-start gap-4">
                    <div
                      class="flex-shrink-0 w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center shadow-md">
                      <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                      </svg>
                    </div>
                    <div class="text-left flex-1">
                      <p class="text-base font-bold text-gray-800 dark:text-white mb-2 flex items-center gap-2">

                        Fecha de Inicio
                      </p>
                      <div class="space-y-2">
                        <p class="text-gray-700 dark:text-gray-300 font-medium">
                          {{ eventoMasCercano.fecha_inicio | date:'EEEE, d \'de\' MMMM \'de\' yyyy' : 'es-ES' |
                          titlecase }}
                        </p>
                        <div class="flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400">
                          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                              d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                          </svg>
                          <span>{{ eventoMasCercano.hora_inicio }} horas</span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Fecha de fin -->
                <div class="bg-white/90 dark:bg-gray-800/90 rounded-2xl p-2 backdrop-blur-sm"
                  *ngIf="eventoMasCercano.fecha_fin">
                  <div class="flex items-start gap-4">
                    <div
                      class="flex-shrink-0 w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center shadow-md">
                      <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
                      </svg>
                    </div>
                    <div class="text-left flex-1">
                      <h4 class="text-base font-bold text-gray-800 dark:text-white mb-2 flex items-center gap-2">

                        Fecha de Finalización
                      </h4>
                      <div class="space-y-2">
                        <p class="text-gray-700 dark:text-gray-300 font-medium">
                          {{ eventoMasCercano.fecha_fin | date:'EEEE, d \'de\' MMMM \'de\' yyyy' : 'es-ES' | titlecase
                          }}
                        </p>
                        <div class="flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400">
                          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                              d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                          </svg>
                          <span>{{ eventoMasCercano.hora_fin }} horas</span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Duración del evento -->
              <div class="mt-6 flex justify-center" *ngIf="eventoMasCercano.fecha_fin">
                <div
                  class="flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-amber-100 to-amber-100 dark:from-amber-900/40 dark:to-amber-900/40 rounded-xl border border-gray-200 dark:border-gray-700/30">
                  <svg class="w-5 h-5 text-amber-600 dark:text-amber-400" fill="none" stroke="currentColor"
                    viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                  </svg>
                  <span class="text-xs font-semibold text-amber-700 dark:text-gray-300">
                    Duración del evento: {{ calcularDuracion(eventoMasCercano.fecha_inicio, eventoMasCercano.fecha_fin)
                    }}
                  </span>
                </div>
              </div>
            </div>

            <!-- Botón de ver mas -->
            <div class="relative z-10 w-full sm:w-auto pt-4">
              <a [routerLink]="['/eventos/eventosdetalle', eventoMasCercano.id]" class="block w-full sm:w-auto">
                <button
                  class="group w-full sm:w-auto py-4 px-8 bg-gradient-to-r from-amber-600 to-amber-600 hover:from-amber-700
                   hover:to-amber-700 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl hover:-translate-y-1 
                   transition-all duration-300 flex items-center justify-center gap-3 text-base min-w-[280px] dark:bg-amber-100 ">

                  <span>Ver Información Completa</span>
                  <svg class="w-5 h-5 text-white group-hover:translate-x-1 transition-transform duration-300"
                    fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M17 8l4 4m0 0l-4 4m4-4H3" />
                  </svg>
                </button>
              </a>
            </div>

          </div>
        </div>

        <!-- Sin eventos -->
        <div *ngIf="!eventoMasCercano"
          class="text-center py-16 bg-white dark:bg-gray-800 rounded-2xl shadow-md border border-orange-100 dark:border-orange-800/30 mt-6">

          <div
            class="w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-orange-500 to-amber-500 rounded-full flex items-center justify-center shadow-xl">
            <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
            </svg>
          </div>

          <h3 class="text-2xl font-bold text-gray-900 dark:text-white mb-2">
            ¡Próximamente eventos en Capachica!
          </h3>
          <p class="text-base text-gray-600 dark:text-gray-300 mb-6 max-w-md mx-auto">
            Estamos organizando experiencias turísticas increíbles. Mantente atento.
          </p>

          <div class="flex flex-col sm:flex-row gap-3 justify-center">
            <button
              class="px-6 py-2 bg-gradient-to-r from-orange-500 to-amber-500 text-white font-medium rounded-md hover:shadow-md transition">
              🔔 Notificarme
            </button>
            <button
              class="px-6 py-2 border border-orange-300 dark:border-orange-600 text-orange-600 dark:text-orange-400 font-medium rounded-md hover:bg-orange-50 dark:hover:bg-orange-900/10 transition">
              🏝️ Explorar Capachica
            </button>
          </div>
        </div>

      </div>
    </div>
  </div>

  <!-- PARTE 6: Galeria -->
  <div class="py-4 px-4 bg-white dark:bg-gray-900 transition-colors duration-300 relative overflow-hidden">
    <section #galeria
      class="px-6 py-20 bg-white dark:bg-gray-900 transition-colors duration-300 relative overflow-hidden">

      <div class="max-w-7xl mx-auto relative z-10">
        <!-- Encabezado  -->
        <div class="text-center mb-16">
          <h3
            class="text-4xl dark:text-orange-400 lg:text-5xl font-black bg-gradient-to-r from-orange-600 via-orange-700 to-amber-600 bg-clip-text text-transparent mb-6 tracking-tight pb-4">
            Momentos Mágicos </h3>
          <p class="text-xl dark:text-gray-200 text-gray-600 max-w-3xl mx-auto leading-relaxed"> Sumérgete en la belleza
            natural y cultural
            de
            Capachica. Cada imagen cuenta una historia única de nuestra península
          </p>
        </div>

        <!-- Grid de Galería Masonry -->
        <div class="flex flex-wrap justify-center gap-6 lg:gap-8">
          <div *ngFor="let slider of visibleSliders; let i = index"
            class="aspect-[4/3] group relative bg-white rounded-3xl shadow-xl hover:shadow-2xl overflow-hidden transition-all duration-700 transform hover:-translate-y-4 hover:rotate-1 cursor-pointer border border-orange-100/50 w-full sm:w-[calc(50%-0.75rem)] lg:w-[calc(33.333%-1.33rem)] xl:w-[calc(25%-1.5rem)] min-w-[250px] max-w-[350px]"
            (click)="abrirImagen(slider.url_completa)">

            <!-- Imagen con efectos -->
            <div class="relative overflow-hidden rounded-3xl">
              <img [src]="slider.url_completa" [alt]="slider.nombre"
                class="aspect-[4/3] w-full h-full object-cover transition-all duration-700 group-hover:scale-125 group-hover:rotate-2 rounded-3xl" />

              <!-- Botones de acción -->
              <div
                class="absolute top-4 right-4 flex space-x-2 opacity-0 group-hover:opacity-100 transition-all duration-300 transform translate-y-2 group-hover:translate-y-0">
                <!-- Botón de zoom -->
                <button
                  class="w-12 h-12 bg-red-20 backdrop-blur-md rounded-full flex items-center justify-center hover:bg-white/20 hover:scale-110 transition-all duration-200 shadow-lg">
                  <svg class="w-5 h-5 text-gray" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7" />
                  </svg>
                </button>
              </div>
            </div>

            <!-- Borde de hover animado -->
            <div
              class="absolute inset-0 rounded-3xl border-2 border-transparent group-hover:border-orange-400/50 transition-all duration-500 pointer-events-none">
            </div>
          </div>
        </div>


        <!-- Botón Ver más/menos mejorado -->
        <div class="mt-20 text-center" *ngIf="totalSliders > 4">
          <button (click)="toggleMostrarTodo(galeria)"
            class="group relative inline-flex items-center px-10 py-5 bg-gradient-to-r from-orange-500 via-orange-500 to-amber-500 hover:from-orange-600 hover:via-orange-700 hover:to-amber-600 text-white font-bold rounded-2xl shadow-xl hover:shadow-2xl transform hover:-translate-y-2 transition-all duration-500 overflow-hidden">

            <span class="relative z-10 text-lg">{{ mostrarTodo ? 'Ver menos lugares' : 'Descubrir más'
              }}</span>
            <svg class="relative z-10 w-6 h-6 ml-3 transition-transform duration-300 group-hover:scale-110"
              [class.rotate-180]="mostrarTodo" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
            </svg>
          </button>
        </div>

      </div>

      <!-- Modal de Imagen Ampliada Mejorado -->
      <div *ngIf="imagenSeleccionada"
        class="fixed inset-0 z-50 bg-black/90 backdrop-blur-lg flex items-center justify-center pt-10 animate-fade-in"
        (click)="cerrarImagen()">

        <!-- Contenedor de imagen con zoom y ajuste de margen para no tapar la barra de navegación -->
        <div class="relative p-5 mt-24 group" (click)="$event.stopPropagation()">
          <!-- Imagen principal con zoom interactivo -->
          <div class="relative overflow-hidden rounded-3xl shadow-2xl">
            <img [src]="imagenSeleccionada" alt="Imagen ampliada"
              class="max-w-full max-h-[70vh] object-contain transition-transform duration-500 hover:scale-110 cursor-zoom-in rounded-3xl"
              #imagenModal (click)="toggleZoom($event)" />

            <!-- Overlay de información mejorado -->
            <ng-container *ngFor="let slider of visibleSliders">
              <!-- Mostrar solo el slider seleccionado -->
              <div *ngIf="slider.url_completa === imagenSeleccionada"
                class="absolute inset-0 bg-gradient-to-b from-black/60 via-transparent via-30% to-black/70 rounded-3xl opacity-0 group-hover:opacity-100 transition-all duration-500 flex flex-col justify-between p-8 pointer-events-none">

                <!-- Título en la parte superior -->
                <div class="flex justify-center items-start">
                  <div class="text-center max-w-4xl">
                    <h2
                      class="text-3xl md:text-4xl lg:text-5xl font-bold text-white drop-shadow-2xl leading-tight tracking-wide">
                      {{ slider.descripcion.titulo }}
                    </h2>

                  </div>
                </div>

                <!-- Descripción en la parte inferior -->
                <div class="flex justify-center items-end">
                  <div class="text-center max-w-3xl">
                    <p
                      class="text-lg md:text-xl lg:text-2xl text-gray-100 drop-shadow-xl leading-relaxed font-medium tracking-wide">
                      {{ slider.descripcion.descripcion }}
                    </p>
                  </div>
                </div>
              </div>
            </ng-container>

            <!-- Overlay permanente sutil (opcional - para mostrar texto siempre) -->
            <ng-container *ngFor="let slider of visibleSliders">
              <div *ngIf="slider.url_completa === imagenSeleccionada"
                class="absolute inset-0 bg-gradient-to-b from-black/30 via-transparent via-40% to-black/40 rounded-3xl group-hover:opacity-0 transition-all duration-500 flex flex-col justify-between p-6 pointer-events-none">

                <!-- Título siempre visible (versión sutil) -->
                <div class="flex justify-center items-start">
                  <h3
                    class="text-xl md:text-2xl font-semibold text-white drop-shadow-lg text-center max-w-2xl leading-tight">
                    {{ slider.descripcion.titulo }}
                  </h3>
                </div>

                <!-- Descripción siempre visible (versión sutil) -->
                <div class="flex justify-center items-end">
                  <p class="text-sm md:text-base text-gray-200 drop-shadow-lg text-center max-w-xl leading-relaxed">
                    {{ slider.descripcion.descripcion }}
                  </p>
                </div>
              </div>
            </ng-container>
          </div>

          <!-- Controles mejorados -->
          <div class="absolute -top-6 -right-6 flex space-x-3 z-10">
            <!-- Botón de cerrar -->
            <button (click)="cerrarImagen()"
              class="w-12 h-12 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white rounded-full shadow-xl transition-all duration-200 flex items-center justify-center hover:scale-110 hover:rotate-90 backdrop-blur-sm border-2 border-white/20">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
              </svg>
            </button>
          </div>

          <!-- Navegación entre imágenes -->
          <!-- Botón para ir a la imagen anterior -->
          <button (click)="navegarImagen('anterior')"
            class="absolute left-6 top-1/2 -translate-y-1/2 w-10 h-10 bg-black/60 hover:bg-black/80 text-white rounded-full transition-all duration-200 flex items-center justify-center hover:scale-110 backdrop-blur-sm  border-white/20 z-10">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M15 19l-7-7 7-7" />
            </svg>
          </button>

          <!-- Botón para ir a la imagen siguiente -->
          <button (click)="navegarImagen('siguiente')"
            class="absolute right-6 top-1/2 -translate-y-1/2 w-10 h-10 bg-black/60 hover:bg-black/80 text-white rounded-full transition-all duration-200 flex items-center justify-center hover:scale-110 backdrop-blur-sm  border-white/20 z-10">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M9 5l7 7-7 7" />
            </svg>
          </button>
        </div>

      </div>


    </section>
  </div>

  <!-- PARTE 7: Historias -->
  <div class=" px-4 bg-white dark:bg-gray-900 transition-colors duration-300 relative overflow-hidden">

    <div *ngIf="municipalidad" class="py-16 px-6">
      <div class="max-w-7xl mx-auto">


        <div class="flex flex-col gap-12">
          <!-- Card 1: Historia de Capachica -->
          <div *ngIf="imagenHistoriacapachica"
            class="group relative w-full h-[500px] rounded-3xl overflow-hidden shadow-2xl hover:shadow-3xl transition-all duration-500 transform hover:scale-[1.02]">

            <!-- Imagen de fondo con overlay -->
            <img [src]="imagenHistoriacapachica.url_completa"
              [alt]="imagenHistoriacapachica.descripcion?.titulo || 'Historia de Capachica'"
              class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" />

            <!-- Overlay con gradiente -->
            <div class="absolute inset-0 bg-gradient-to-r from-black/80 via-black/40 to-transparent"></div>

            <!-- Contenido -->
            <div class="absolute inset-0 flex items-center px-8 md:px-12">
              <div class="text-white max-w-2xl">
                <div class="mb-4">

                </div>
                <h3 class="text-4xl md:text-5xl font-bold mb-6 leading-tight">
                  Historia de
                  <span class="text-orange-400">CAPACHICA</span>
                </h3>
                <p class="text-lg md:text-xl leading-relaxed text-gray-200 line-clamp-4">
                  {{ municipalidad.historiacapachica }}
                </p>

              </div>
            </div>
          </div>

          <!-- Card 2: Historia de las Familias -->
          <div *ngIf="imagenHistoriafamilia"
            class="group relative w-full h-[500px] rounded-3xl overflow-hidden shadow-2xl hover:shadow-3xl transition-all duration-500 transform hover:scale-[1.02]">

            <!-- Imagen de fondo -->
            <img [src]="imagenHistoriafamilia.url_completa"
              [alt]="imagenHistoriafamilia.descripcion?.titulo || 'Historia de las Familias'"
              class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" />

            <!-- Overlay invertido (contenido a la derecha) -->
            <div class="absolute inset-0 bg-gradient-to-l from-black/80 via-black/40 to-transparent"></div>

            <!-- Contenido alineado a la derecha -->
            <div class="absolute inset-0 flex items-center justify-end px-8 md:px-12">
              <div class="text-white max-w-2xl text-right">
                <div class="mb-4">

                </div>
                <h3 class="text-4xl md:text-5xl font-bold mb-6 leading-tight">
                  Historia de los
                  <span class="text-orange-400">EMPRENDEDORES</span>
                </h3>
                <p class="text-lg md:text-xl leading-relaxed text-gray-200 line-clamp-4">
                  {{ municipalidad.historiacapachica || municipalidad.historiacapachica }}
                </p>

              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- PARTE 8: Comunidades -->
  <div class="py-4 px-4 bg-white dark:bg-gray-900 transition-colors duration-300 relative overflow-hidden">
    <div *ngIf="slidersComunidad.length > 0"
      class="py-20 px-6 bg-white dark:bg-gray-900 transition-colors duration-300 relative overflow-hidden">

      <div class="relative z-10 max-w-7xl mx-auto">
        <!-- Encabezado mejorado -->
        <div class="text-center mb-16">
          <span
            class="inline-block px-6 bg-orange-100 dark:bg-orange-500 text-orange-600 dark:text-gray-100 text-sm font-semibold rounded-full mb-4">
            Nuestras Comunidades
          </span>
          <h2 class="text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-6">
            Comunidades de
            <span class="text-orange-500">Capachica</span>
          </h2>
          <p class="text-gray-600 dark:text-gray-300 text-lg max-w-3xl mx-auto leading-relaxed">
            Descubre la riqueza cultural de nuestras comunidades ancestrales y los servicios únicos que ofrecen a los
            visitantes
          </p>
        </div>

        <!-- Grid de comunidades mejorado con flexbox centrado -->
        <div class="flex flex-wrap justify-center gap-8">
          <div *ngFor="let slider of slidersComunidad"
            class="group bg-white dark:bg-gray-800 rounded-2xl shadow-lg hover:shadow-2xl overflow-hidden transition-all duration-500 transform hover:-translate-y-2 w-full sm:w-[calc(50%-1rem)] lg:w-[calc(33.333%-1.33rem)] xl:w-[calc(25%-1.5rem)] max-w-[300px]">

            <!-- Imagen con overlay -->
            <div class="relative h-56 overflow-hidden">
              <img [src]="slider.url_completa" [alt]="slider.descripcion.titulo || slider.nombre"
                class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">

              <!-- Overlay sutil -->
              <div
                class="absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300">
              </div>

              <!-- Badge de comunidad -->
              <div class="absolute top-4 right-4 px-3 py-1 bg-orange-500 text-white text-xs font-semibold rounded-full">
                Comunidad
              </div>
            </div>

            <!-- Contenido -->
            <div class="p-6">
              <h3
                class="text-xl font-bold text-gray-900 dark:text-white mb-3 group-hover:text-orange-500 text-center transition-colors duration-300">
                {{ slider.nombre }}
              </h3>
              <p class="text-gray-600 dark:text-gray-300 text-sm line-clamp-3 mb-4">
                {{ slider.descripcion.descripcion }}
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- PARTE 9: Muni -->
  <div class="py-4 px-4 bg-white dark:bg-gray-900 transition-colors duration-300 relative overflow-hidden">
    <div *ngIf="municipalidad" class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
      <!-- Lado Izquierdo: Nombre de la municipalidad-->
      <div class="relative">
        <!-- Frase de bienvenida -->
        <div class="relative mb-8">
          <blockquote
            class="text-lg dark:text-orange-400 lg:text-3xl font-semibold text-orange-800 italic leading-relaxed text-center">
            "{{ municipalidad.nombre }}"
          </blockquote>
          <!-- Decoración bajo el título -->
          <div class="flex items-center justify-center mt-4">
            <div class="h-1 w-20 bg-gradient-to-r from-orange-400 to-orange-600 rounded-full"></div>
            <div class="w-3 h-3 bg-orange-500 rounded-full mx-3"></div>
            <div class="h-1 w-12 bg-orange-300 rounded-full"></div>
          </div>
        </div>

      </div>

      <!-- Lado Derecho: Frase y Descripción -->
      <div class="relative">
        <!-- Descripcion -->
        <div class="flex items-start gap-4 bg-orange-400 dark:bg-orange-400 p-6 mx-4 mr-10
            rounded-xl shadow-md max-w-2xl mx-auto">
          <p class="text-base text-gray-100 dark:text-gray-200  text-justify leading-relaxed">
            {{ municipalidad.descripcion }}
          </p>
        </div>

      </div>

    </div>
  </div>

  <!-- PARTE 10: info extra -->
  <section class="bg-white dark:bg-gray-900 py-20 px-10">
    <div *ngIf="municipalidad" class="max-w-6xl mx-auto">

      <!-- SECCIÓN MISIÓN ESTILO DISNEY -->
      <section class="relative bg-white dark:bg-gray-900 min-h-[500px] overflow-hidden ml-40 mb-10">

        <!-- Imagen de fondo -->
        <img src="https://dynamic-media-cdn.tripadvisor.com/media/photo-o/2c/c4/4a/41/caption.jpg?w=1200&h=-1&s=1"
          alt="Imagen de misión" class="absolute inset-0 w-[63%] h-full object-cover opacity-90 rounded-2xl" />
        <!-- La imagen ocupa el 75% del ancho -->

        <!-- Capa oscura para mejor contraste -->
        <div class="absolute inset-0 dark:bg-gray-500/50 "></div>

        <!-- Tarjeta flotante -->
        <div class="relative max-w-xl mx-auto pl-20 px-6 flex items-center justify-end min-h-[500px] z-10">

          <div
            class="bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-10 border-l-4 border-t-4 border-orange-400 dark:border-orange-500">
            <h2 class="text-2xl sm:text-3xl font-extrabold text-orange-600 dark:text-white mb-4">
              NUESTRA MISIÓN
            </h2>
            <p class="text-gray-700 dark:text-orange-100 text-lg leading-relaxed">
              {{ municipalidad.mision }}
            </p>

          </div>

        </div>
      </section>



<!-- SECCIÓN vision ESTILO DISNEY -->
      <section class="relative bg-white dark:bg-gray-900 min-h-[500px] overflow-hidden mr-40 mt-10">

        <!-- Imagen de fondo (inicia desde la derecha) -->
        <img src="https://images.trvl-media.com/lodging/35000000/34520000/34512400/34512319/2a150fcc.jpg?impolicy=resizecrop&rw=575&rh=575&ra=fill" alt="Imagen de misión"
          class="absolute right-0 w-[63%] h-full object-cover opacity-90 rounded-2xl" />

        <!-- Capa oscura para mejorar contraste de la imagen -->
        <div class="absolute inset-0 dark:bg-gray-500/50 "></div>

        <!-- Tarjeta flotante con texto, centrada y extendida -->
        <div class="absolute inset-0 flex pr-20 items-center justify-center z-10 px-6">
          <div
            class="bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-10 border-l-4 border-t-4 border-orange-400 dark:border-orange-500 w-[60%]">
            <h2 class="text-2xl sm:text-3xl font-extrabold text-orange-600 dark:text-white mb-4">
              NUESTRA VISIÓN
            </h2>
            <p class="text-gray-700 dark:text-orange-100 text-lg leading-relaxed">
              {{ municipalidad.vision }}
            </p>

          </div>
        </div>
      </section>




      <!-- SECCIÓN VALORES CON MOSAICO CENTRADO Y TONALIDAD NARANJA-CAFÉ -->
      <section class="bg-gradient-to-br from-orange-100 to-amber-100 dark:from-orange-800 dark:to-orange-600 py-10">
        <div class="text-center max-w-3xl mx-auto">
          <h3 class="text-4xl font-bold text-orange-700 dark:text-white mb-12 tracking-tight">Nuestros Valores</h3>

          <div class="flex flex-wrap justify-center gap-4">
            <ng-container *ngFor="let valor of municipalidad.valores.split(','); let i = index">
              <div
                class="aspect-square w-full max-w-[140px] rounded-xl flex flex-col items-center justify-center text-center shadow-lg transition-transform duration-300 hover:scale-105 p-3 relative"
                [ngClass]="{
            'bg-orange-300 text-orange-900': i % 5 === 0,
            'bg-amber-400 text-white': i % 5 === 1,
            'bg-orange-500 text-white': i % 5 === 2,
            'bg-amber-600 text-white': i % 5 === 3,
            'bg-orange-600 text-white': i % 5 === 4
          }">

                <!-- Icono SVG -->
                <div class="w-8 h-8 mb-2 opacity-80">
                  <svg viewBox="0 0 512 512" class="w-full h-full fill-current">
                    <g>
                      <path d="M308.046,96.965l-33.994-73.969c-1.772-4.502-5.21-8.359-9.95-10.541
                  c-9.756-4.498-21.313-0.239-25.815,9.519l-34.709,75.182l-81.919,9.595l0.006,0.065c-4.455,0.509-8.756,2.551-12.038,6.099
                  c-7.276,7.865-6.797,20.142,1.065,27.416l60.734,56.205l-16.221,81.026l0.061,0.013c-0.869,4.365-0.258,9.045,2.074,13.239
                  c5.212,9.374,17.042,12.749,26.419,7.535l37.188-20.795l35.12-19.643l34.971,19.638l36.638,20.577
                  c3.963,2.347,8.77,3.31,13.646,2.357c10.553-2.062,17.439-12.289,15.38-22.843l-16.129-81.313l60.059-55.384
                  c3.628-3.072,6.147-7.476,6.748-12.567c1.26-10.681-6.374-20.368-17.054-21.625L308.046,96.965z" />
                      <polygon
                        points="291.037,277.548 256.067,257.91 220.946,277.553 213.348,392.685 298.634,392.685" />
                      <polygon points="298.634,392.685 213.348,392.685 184.313,392.685 184.313,437.373 323.4,437.373 
                  323.4,392.685" />
                      <polygon points="323.4,437.373 184.313,437.373 147.251,437.373 147.251,501.34 360.464,501.34 
                  360.464,437.373" />
                    </g>
                  </svg>
                </div>

                <!-- Texto del valor -->
                <span class="font-semibold text-xs leading-tight break-words">{{ valor.trim() }}</span>
              </div>
            </ng-container>
          </div>
        </div>
      </section>




      <!-- SECCIÓN COMITÉ -->
      <section class="bg-white dark:bg-gray-900 py-20 px-6">
        <div class="max-w-6xl mx-auto grid md:grid-cols-2 gap-12 items-center">
          <!-- Imagen -->
          <div *ngIf="imagenComite" class="relative overflow-hidden rounded-3xl shadow-2xl group">
            <img [src]="imagenComite.url_completa" [alt]="imagenComite.descripcion?.titulo || 'comité'"
              class="w-full h-[300px] object-cover transition-transform duration-700 group-hover:scale-105" />
            <div class="absolute inset-0 bg-orange-600/30 group-hover:bg-orange-700/30 transition-colors"></div>
          </div>
          <!-- Texto -->
          <div
            class="bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900 dark:to-orange-800 rounded-3xl shadow-lg p-10 md:p-12 transition-all">
            <h3 style="font-family: 'Chewy', cursive;" style="font-family: 'Roboto', sans-serif;"
              class="text-2xl font-bold text-orange-600 dark:text-white mb-6 text-center md:text-left tracking-tight drop-shadow-md">
              NUESTRO COMITÉ
            </h3>

            <div class="relative pl-4 border-l-4 border-orange-400 dark:border-orange-300">
              <p style="font-family: 'Aime-Light', serif"
                class="text-lg text-gray-700 dark:text-orange-100 leading-relaxed max-w-3xl mx-auto md:mx-0">
                {{ municipalidad.comite }}
              </p>
            </div>

            <!-- Elemento decorativo opcional -->
            <div class="mt-8 flex justify-center md:justify-start">
              <div class="flex items-center gap-2 text-orange-500 dark:text-orange-200">

                <span class="font-medium">Comprometidos con el turismo sostenible</span>
              </div>
            </div>
          </div>

        </div>
      </section>



    </div>
  </section>




  <!-- PARTE 11: Ubicacion -->
  <div class="py-4 px-4 bg-white dark:bg-gray-900 transition-colors duration-300 relative overflow-hidden">
    <div *ngIf="selectedEmprendedor"
      class="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-fadeIn">

      <div
        class="bg-white dark:bg-gray-800 rounded-3xl max-w-5xl w-full max-h-[90vh] overflow-y-auto shadow-2xl transition-colors duration-300 animate-slideUp">

        <!-- Header del modal -->
        <div class="sticky top-0 bg-gradient-to-r from-orange-500 to-orange-600 p-6 rounded-t-3xl">
          <div class="flex justify-between items-center">
            <h2 class="text-2xl font-bold text-white">{{ selectedEmprendedor.nombre }}</h2>
            <button (click)="closeEmprendedorDetails()"
              class="w-10 h-10 bg-white/20 hover:bg-white/30 rounded-full flex items-center justify-center text-white transition-all duration-200">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
              </svg>
            </button>
          </div>
        </div>

        <!-- Contenido del modal -->
        <div class="p-8">
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-10">

            <!-- Columna izquierda: Imagen y contacto -->
            <div class="space-y-6">
              <div class="relative overflow-hidden rounded-2xl shadow-lg">
                <img src="https://www.dzoom.org.es/wp-content/uploads/2017/07/seebensee-2384369-810x540.jpg"
                  [alt]="'Imagen de ' + selectedEmprendedor.nombre" class="w-full h-64 object-cover">
                <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"></div>
              </div>

              <!-- Información de contacto -->
              <div class="bg-orange-50 dark:bg-gray-700 p-6 rounded-2xl border border-orange-100 dark:border-gray-600">
                <h3 class="text-lg font-bold text-orange-600 dark:text-orange-400 mb-4 flex items-center">
                  <span class="mr-2">📞</span>
                  Información de contacto
                </h3>
                <div class="space-y-3 text-gray-700 dark:text-gray-200">
                  <p><strong>Teléfono:</strong> {{ selectedEmprendedor.telefono }}</p>
                  <p><strong>Email:</strong> {{ selectedEmprendedor.email }}</p>
                  <p><strong>Ubicación:</strong> {{ selectedEmprendedor.ubicacion }}</p>
                  <p><strong>Horario:</strong> {{ selectedEmprendedor.horario_atencion }}</p>
                </div>
              </div>
            </div>

            <!-- Columna derecha: Información detallada -->
            <div class="space-y-6">

              <!-- Descripción -->
              <div>
                <h3 class="text-lg font-bold text-orange-600 dark:text-orange-400 mb-3">Descripción</h3>
                <p class="text-gray-700 dark:text-gray-200 leading-relaxed">
                  {{ selectedEmprendedor.descripcion }}
                </p>
              </div>

              <!-- Tipo de servicio -->
              <div>
                <h3 class="text-lg font-bold text-orange-600 dark:text-orange-400 mb-3">Tipo de servicio</h3>
                <span
                  class="inline-block px-4 py-2 bg-orange-100 dark:bg-orange-900/40 text-orange-800 dark:text-orange-300 rounded-full font-semibold">
                  {{ selectedEmprendedor.tipo_servicio }}
                </span>
              </div>

              <!-- Rango de precios -->
              <div>
                <h3 class="text-lg font-bold text-orange-600 dark:text-orange-400 mb-3">Rango de precios</h3>
                <p class="text-2xl font-bold text-gray-900 dark:text-white">{{ selectedEmprendedor.precio_rango }}</p>
              </div>

              <!-- Métodos de pago -->
              <div>
                <h3 class="text-lg font-bold text-orange-600 dark:text-orange-400 mb-3">Métodos de pago</h3>
                <div class="flex flex-wrap gap-2">
                  <span *ngFor="let metodo of selectedEmprendedor.metodos_pago"
                    class="px-3 py-1 bg-orange-100 dark:bg-orange-900/40 text-orange-800 dark:text-orange-300 rounded-full text-sm font-medium">
                    {{ metodo }}
                  </span>
                </div>
              </div>

              <!-- Idiomas -->
              <div>
                <h3 class="text-lg font-bold text-orange-600 dark:text-orange-400 mb-3">Idiomas hablados</h3>
                <div class="flex flex-wrap gap-2">
                  <span *ngFor="let idioma of selectedEmprendedor.idiomas_hablados"
                    class="px-3 py-1 bg-blue-100 dark:bg-blue-900/40 text-blue-800 dark:text-blue-300 rounded-full text-sm font-medium">
                    {{ idioma }}
                  </span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class=" via-white to-orange-100 dark:from-gray-800 dark:to-gray-900 py-20 px-6 transition-colors duration-300">
      <div class="max-w-7xl mx-auto">

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">

          <!-- Contenido de texto -->
          <div class="lg:pr-12">
            <span class="inline-block px-6 py-2 bg-orange-500 text-white text-sm font-semibold rounded-full mb-6">
              Ubicación
            </span>

            <h2 class="text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-6 leading-tight">
              ¿Cómo llegar a
              <span class="text-orange-500">Capachica?</span>
            </h2>

            <p class="text-lg text-gray-700 dark:text-gray-300 leading-relaxed mb-8">
              Estamos ubicados en la hermosa península de Capachica, en las orillas del majestuoso lago Titicaca,
              en el departamento de Puno, Perú. Un destino donde la naturaleza y la cultura se encuentran
              para ofrecerte una experiencia única e inolvidable.
            </p>

            <!-- Puntos destacados -->
            <div class="space-y-4 mb-8">
              <div class="flex items-center">
                <div
                  class="w-4 h-4 bg-orange-100 dark:bg-orange-500 rounded-full flex items-center justify-center mr-4">

                </div>
                <span class="text-gray-700 dark:text-gray-300">A orillas del lago Titicaca</span>
              </div>
              <div class="flex items-center">
                <div
                  class="w-4 h-4 bg-orange-100 dark:bg-orange-500 rounded-full flex items-center justify-center mr-4">

                </div>
                <span class="text-gray-700 dark:text-gray-300">Paisajes andinos espectaculares</span>
              </div>
              <div class="flex items-center">
                <div
                  class="w-4 h-4 bg-orange-100 dark:bg-orange-500 rounded-full flex items-center justify-center mr-4">

                </div>
                <span class="text-gray-700 dark:text-gray-300">Rica cultura ancestral</span>
              </div>
            </div>


          </div>

          <!-- Mapa mejorado -->
          <div class="relative">
            <div class="bg-white dark:bg-gray-800 p-4 rounded-3xl shadow-2xl">
              <div class="h-[400px] rounded-2xl overflow-hidden">
                <iframe
                  src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d12590.106066335879!2d-69.8417794!3d-15.6446622!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x915d7c95db9aeed9%3A0xa6d88f0376391024!2sCapachica%2C%20Per%C3%BA!5e0!3m2!1ses-419!2spe!4v1617738498032!5m2!1ses-419!2spe"
                  class="w-full h-full border-0 rounded-2xl" allowfullscreen="" loading="lazy">
                </iframe>
              </div>
            </div>

            <!-- Elementos decorativos -->
            <div class="absolute -top-4 -right-4 w-16 h-16 bg-orange-200 dark:bg-orange-800/50 rounded-full -z-10">
            </div>
            <div class="absolute -bottom-6 -left-6 w-24 h-24 bg-orange-100 dark:bg-orange-900/30 rounded-full -z-10">
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>



  <!-- PARTE 12: Reseña -->
  <div class="py-4 px-4 bg-white dark:bg-gray-900 transition-colors duration-300 relative overflow-hidden">
    <!-- PARTE 9: RESEÑAS DE TURISTAS MEJORADA -->
    <div class="py-20 px-6 bg-white dark:bg-gray-900 transition-colors duration-300 relative overflow-hidden">


      <div class="relative z-10 max-w-7xl mx-auto">

        <!-- Encabezado -->
        <div class="text-center mb-12 sm:mb-16">
          <span
            class="inline-block px-4 py-2 bg-white/20 bg-amber-500/80 dark:bg-amber-500/80 text-gray-100 dark:text-gray-900 text-sm font-semibold rounded-full mb-4 transition-all duration-300">
            Testimonios
          </span>
          <h2 class="text-3xl sm:text-4xl md:text-5xl text-gray-800 dark:text-gray-100 font-bold mb-4 sm:mb-6">
            Reseñas de Turistas
          </h2>
          <p
            class="text-gray-800 dark:text-gray-300 text-base sm:text-lg max-w-2xl mx-auto transition-colors duration-300">
            Descubre lo que nuestros visitantes dicen sobre su experiencia en Capachica
          </p>
        </div>

        <!-- Grid de testimonios -->
        <div class=" grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">

          <!-- Testimonio 1 -->
          <div
            class="group bg-white dark:bg-gray-800 dark:text-white backdrop-blur-sm p-6 rounded-2xl shadow-lg hover:shadow-2xl hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-300 transform hover:-translate-y-2">
            <div class="flex items-center mb-4">
              <div
                class="w-12 h-12 bg-orange-100 dark:bg-orange-400 rounded-full flex items-center justify-center mr-3">
                <span class="text-orange-600 font-bold text-lg">B</span>
              </div>
              <div>
                <h4 class="font-bold text-gray-900 dark:text-white">Beatriz</h4>
                <div class="flex text-orange-500 text-sm">⭐⭐⭐⭐⭐</div>
              </div>
            </div>
            <h5 class="font-semibold text-gray-800 dark:text-orange-200 mb-2">Visita a Puno</h5>
            <p class="text-gray-600 dark:text-gray-300 text-sm leading-relaxed">
              Reservamos con PunoTours varios paquetes. Wilson fue muy amable y profesional.
              Estuvimos en contacto por mail antes de viajar para ajustar los detalles...
            </p>
          </div>

          <!-- Testimonio 1 -->
          <div
            class="group bg-white dark:bg-gray-800 dark:text-white backdrop-blur-sm p-6 rounded-2xl shadow-lg hover:shadow-2xl hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-300 transform hover:-translate-y-2">
            <div class="flex items-center mb-4">
              <div
                class="w-12 h-12 bg-orange-100 dark:bg-orange-400 rounded-full flex items-center justify-center mr-3">
                <span class="text-orange-600 font-bold text-lg">B</span>
              </div>
              <div>
                <h4 class="font-bold text-gray-900 dark:text-white">Beatriz</h4>
                <div class="flex text-orange-500 text-sm">⭐⭐⭐⭐⭐</div>
              </div>
            </div>
            <h5 class="font-semibold text-gray-800 dark:text-orange-200 mb-2">Visita a Puno</h5>
            <p class="text-gray-600 dark:text-gray-300 text-sm leading-relaxed">
              Reservamos con PunoTours varios paquetes. Wilson fue muy amable y profesional.
              Estuvimos en contacto por mail antes de viajar para ajustar los detalles...
            </p>
          </div>

          <!-- Testimonio 1 -->
          <div
            class="group bg-white dark:bg-gray-800 dark:text-white backdrop-blur-sm p-6 rounded-2xl shadow-lg hover:shadow-2xl hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-300 transform hover:-translate-y-2">
            <div class="flex items-center mb-4">
              <div
                class="w-12 h-12 bg-orange-100 dark:bg-orange-400 rounded-full flex items-center justify-center mr-3">
                <span class="text-orange-600 font-bold text-lg">B</span>
              </div>
              <div>
                <h4 class="font-bold text-gray-900 dark:text-white">Beatriz</h4>
                <div class="flex text-orange-500 text-sm">⭐⭐⭐⭐⭐</div>
              </div>
            </div>
            <h5 class="font-semibold text-gray-800 dark:text-orange-200 mb-2">Visita a Puno</h5>
            <p class="text-gray-600 dark:text-gray-300 text-sm leading-relaxed">
              Reservamos con PunoTours varios paquetes. Wilson fue muy amable y profesional.
              Estuvimos en contacto por mail antes de viajar para ajustar los detalles...
            </p>
          </div>

          <!-- Testimonio 1 -->
          <div
            class="group bg-white dark:bg-gray-800 dark:text-white backdrop-blur-sm p-6 rounded-2xl shadow-lg hover:shadow-2xl hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-300 transform hover:-translate-y-2">
            <div class="flex items-center mb-4">
              <div
                class="w-12 h-12 bg-orange-100 dark:bg-orange-400 rounded-full flex items-center justify-center mr-3">
                <span class="text-orange-600 font-bold text-lg">B</span>
              </div>
              <div>
                <h4 class="font-bold text-gray-900 dark:text-white">Beatriz</h4>
                <div class="flex text-orange-500 text-sm">⭐⭐⭐⭐⭐</div>
              </div>
            </div>
            <h5 class="font-semibold text-gray-800 dark:text-orange-200 mb-2">Visita a Puno</h5>
            <p class="text-gray-600 dark:text-gray-300 text-sm leading-relaxed">
              Reservamos con PunoTours varios paquetes. Wilson fue muy amable y profesional.
              Estuvimos en contacto por mail antes de viajar para ajustar los detalles...
            </p>
          </div>

        </div>
      </div>
    </div>
  </div>

  <!-- Footer - Enhanced for dark mode -->
  <footer *ngIf="municipalidad"
    class="bg-amber-100 dark:bg-gray-900 text-gray-700 dark:text-gray-300 pt-16 pb-8 px-6 transition-colors duration-300">
    <div
      class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-4 gap-10 text-sm border-b border-amber-200 dark:border-gray-700 pb-10">

      <!-- Columna 1: Compañía -->
      <div>
        <h4 class="text-base font-bold mb-4 text-amber-700 dark:text-amber-500">Compañía</h4>
        <ul class="space-y-2">
          <li><a href="#"
              class="hover:text-amber-600 dark:hover:text-amber-400 transition-colors duration-200">Nosotros</a></li>
          <li><a href="#" class="hover:text-amber-600 dark:hover:text-amber-400 transition-colors duration-200">Nuestros
              Servicios</a></li>
          <li><a href="#" class="hover:text-amber-600 dark:hover:text-amber-400 transition-colors duration-200">Política
              de Privacidad</a></li>
          <li><a href="#"
              class="hover:text-amber-600 dark:hover:text-amber-400 transition-colors duration-200">Afíliate</a></li>
        </ul>
      </div>

      <!-- Columna 2: Ayuda -->
      <div>
        <h4 class="text-base font-bold mb-4 text-amber-700 dark:text-amber-500">Ayuda</h4>
        <ul class="space-y-2">
          <li><a href="#"
              class="hover:text-amber-600 dark:hover:text-amber-400 transition-colors duration-200">Preguntas</a></li>
          <li><a href="#"
              class="hover:text-amber-600 dark:hover:text-amber-400 transition-colors duration-200">Compras</a></li>
          <li><a href="#"
              class="hover:text-amber-600 dark:hover:text-amber-400 transition-colors duration-200">Envíos</a>
          </li>
          <li><a href="#"
              class="hover:text-amber-600 dark:hover:text-amber-400 transition-colors duration-200">Pagos</a>
          </li>
        </ul>
      </div>

      <!-- Columna 3: Contacto real -->
      <div>
        <h4 class="text-base font-bold mb-4 text-amber-700 dark:text-amber-500">Contacto</h4>
        <p class="mb-2"><strong class="text-gray-800 dark:text-gray-200">Email:</strong> {{ municipalidad.correo }}
        </p>
        <p><strong class="text-gray-800 dark:text-gray-200">Horario:</strong> {{ municipalidad.horariodeatencion }}
        </p>
      </div>

      <!-- Columna 4: Redes sociales -->
      <div>
        <h4 class="text-base font-bold mb-4 text-amber-700 dark:text-amber-500">Síguenos</h4>
        <div class="flex space-x-3">
          <a [href]="municipalidad.red_facebook" target="_blank"
            class="w-10 h-10 flex items-center justify-center rounded-full bg-white dark:bg-gray-700 hover:bg-amber-200 dark:hover:bg-gray-600 transition-all duration-300 shadow-sm">
            <svg class="w-5 h-5 text-blue-600" fill="currentColor" viewBox="0 0 24 24">
              <path
                d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.877v-6.987H7.898v-2.89h2.54V9.797c0-2.507 1.493-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.242 0-1.63.771-1.63 1.562v1.875h2.773l-.443 2.89h-2.33V22C18.343 21.128 22 16.991 22 12z" />
            </svg>
          </a>
          <a [href]="municipalidad.red_instagram" target="_blank"
            class="w-10 h-10 flex items-center justify-center rounded-full bg-white dark:bg-gray-700 hover:bg-amber-200 dark:hover:bg-gray-600 transition-all duration-300 shadow-sm">
            <svg class="w-5 h-5 text-pink-500" fill="currentColor" viewBox="0 0 24 24">
              <path
                d="M7 2C4.243 2 2 4.243 2 7v10c0 2.757 2.243 5 5 5h10c2.757 0 5-2.243 5-5V7c0-2.757-2.243-5-5-5H7zm0 2h10a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3H7a3 3 0 0 1-3-3V7a3 3 0 0 1 3-3zm5 2a5 5 0 1 0 0 10 5 5 0 0 0 0-10zm0 2a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm4.5-.5a1 1 0 1 0 0 2 1 1 0 0 0 0-2z" />
            </svg>
          </a>
          <a [href]="municipalidad.red_youtube" target="_blank"
            class="w-10 h-10 flex items-center justify-center rounded-full bg-white dark:bg-gray-700 hover:bg-amber-200 dark:hover:bg-gray-600 transition-all duration-300 shadow-sm">
            <svg class="w-5 h-5 text-red-600" fill="currentColor" viewBox="0 0 24 24">
              <path
                d="M10 15l5.19-3L10 9v6zm12-3c0-1.74-.148-3.077-.428-4.17a3.38 3.38 0 0 0-2.4-2.4C17.077 5.148 15.74 5 14 5H10c-1.74 0-3.077.148-4.17.428a3.38 3.38 0 0 0-2.4 2.4C3.148 8.923 3 10.26 3 12s.148 3.077.428 4.17a3.38 3.38 0 0 0 2.4 2.4C6.923 18.852 8.26 19 10 19h4c1.74 0 3.077-.148 4.17-.428a3.38 3.38 0 0 0 2.4-2.4c.28-1.093.428-2.43.428-4.17z" />
            </svg>
          </a>
        </div>
      </div>
    </div>

    <div class="text-center text-sm mt-8 text-gray-500 dark:text-gray-400">
      &copy; {{ currentYear }} Municipalidad de Capachica. Todos los derechos reservados.
    </div>
  </footer>

</div>